{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/component/map.jsx","webpack:///../component/src/index.jsx","webpack:///./src/lib/amaps-cluster-icon.js","webpack:///./src/index.jsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","ReactDOM","OpenStadComponentNLMap","props","_this","_classCallCheck","this","self","_assertThisInitialized","_possibleConstructorReturn","_getPrototypeOf","defaultConfig","target","divId","style","marker","search","center","latitude","longitude","zoom","zoomposition","disableDefaultUI","polygon","autoZoomAndCenter","config","assign","_loadedFiles","files","type","href","src","variant","push","markers","prevProps","prevState","loadNextFile","createMap","event","Event","mapIsReady","instance","dispatchEvent","next","element","file","document","createElement","async","rel","onload","appendChild","length","map","amaps","nlmaps","clustering","isActive","L","markerClusterGroup","iconCreateFunction","amapsCreateClusterIcon","createClusterIcon","eval","showCoverageOnHover","maxClusterRadius","onClusterClick","on","onClusterAnimationEnd","addLayer","onMapClick","createCutoutPolygon","forEach","addMarker","centerOn","editorMarker","position","setBoundsAndCenter","markerData","icon","lat","lng","visible","data","doNotCluster","onClick","location","onMarkerClick","index","indexOf","splice","removeLayer","newData","newLatLng","LatLng","setLatLng","cluster","count","getChildCount","divIcon","html","className","iconSize","point","iconAnchor","console","log","getBounds","getCenter","smallest","y","Math","sin","cos","x","bearing","atan2","PI","a","slice","b","concat","outerBox","polygonStyle","color","fillColor","fillOpacity","result","points","poly","_latlng","coordinates","panTo","bounds","latLngBounds","fitBounds","showMarker","addTo","hideMarker","remove","filterFuntion","filterFunction","applyFilter","j","inPoly","latlng","url","replace","fetch","then","response","json","id","results","landelijk_id","err","_this2","react__WEBPACK_IMPORTED_MODULE_0___default","ref","el","OpenStadComponent","attributes","keys","attribute","JSON","parse","parseInt","random","window","Component","typeField","types","getAllChildMarkers","colors","total","isFaded","entry","tmp","find","undefined","soFar","myColor","perc","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_component_map_jsx__WEBPACK_IMPORTED_MODULE_3__","addEventListener","querySelectorAll","elem","render"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = React;","module.exports = ReactDOM;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport OpenStadComponent from 'openstad-component/src/index.jsx';\n// import initSingleClick from '../lib/singleclick.js';\nimport amapsCreateClusterIcon from '../lib/amaps-cluster-icon.js';\n\n'use strict';\n\nexport default class OpenStadComponentNLMap extends OpenStadComponent {\n\n  constructor(props) {\n\n    super(props);\n\n\t\tvar self = this;\n\n\t\t// config\n\t\tlet defaultConfig = {\n\t\t\ttarget: self.divId,\n\t\t\tstyle: 'standaard',\n\t\t\tmarker: false,\n\t\t\tsearch: false,\n\t\t\tcenter: {\n\t\t\t\tlatitude: 52.37104644463586,\n\t\t\t\tlongitude: 4.900402911007405,\n\t\t\t},\n\t\t\tzoom: 14,\n\t\t\tzoomposition     : 'bottomleft',\n\t\t\tdisableDefaultUI : true,\n\t\t\tpolygon : null,\n\t\t\tautoZoomAndCenter: false,\n\t\t\t// onQueryResult: self.onQueryHandler\n\t\t};\n\t\tself.config = Object.assign(defaultConfig, self.config || {})\n\n\t\t// external css and script files\n\t\tself._loadedFiles = 0;\n\t\tself.files = [\n\t\t\t{ type: 'css', href: \"https://unpkg.com/leaflet@1.0.3/dist/leaflet.css\" },\n\t\t\t{ type: 'script', src: \"https://unpkg.com/leaflet@1.0.3/dist/leaflet.js\" },\n\t\t];\n\t\tswitch(self.config.variant) {\n\t\t\tcase \"amaps\":\n\t\t\t\t// self.files.push({ type: 'css', href: \"https://map.data.amsterdam.nl/dist/css/ams-map.css\"}); // in tegenstelling tot wat ze beloven overschrijft dit ook css buiten de map\n\t\t\t\tself.files.push({ type: 'script', src: \"https://map.data.amsterdam.nl/dist/amaps.iife.js\"});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tself.files.push({ type: 'css', href: \"https://nlmaps.nl/dist/assets/css/nlmaps.css\"});\n\t\t\t\tself.files.push({ type: 'script', src: \"https://nlmaps.nl/dist/nlmaps.iife.js\"});\n\t\t}\n\t\tself.files.push({ type: 'css', href: \"https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css\"  });\n\t\tself.files.push({ type: 'script', src: \"https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js\" });\n\n\t\tself.markers = self.config.markers || [];\n\t\t\n  }\n\n\tcomponentDidMount(prevProps, prevState) {\n    var self = this;\n    self.loadNextFile(function() {\n      // initSingleClick();\n\t\t\t// loading script files is ready; create the map\n\t\t\tself.createMap();\n\t\t\t// dispatch an event\n\t\t\tvar event = new Event('mapIsReady');\n\t\t\tself.mapIsReady = true;\n\t\t\tself.instance.dispatchEvent(event);\n    });\n\t}\n\n  loadNextFile(next) {\n    var self = this;\n    var file = self.files[self._loadedFiles];\n    if (file) {\n\t\t\tlet element;\n\t\t\tif (file.type === 'script') {\n\t\t\t\telement = document.createElement('script');\n\t\t\t\telement.src = file.src;\n\t\t\t\telement.async = true;\n\t\t\t}\n\t\t\tif (file.type === 'css') {\n\t\t\t\telement = document.createElement('link');\n\t\t\t\telement.href = file.href;\n\t\t\t\telement.rel = 'stylesheet';\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\telement.onload = function() {\n          self.loadNextFile(next);\n\t\t\t\t}\n\t\t\t\tthis.instance.appendChild(element);\n\t\t\t}\n    }\n\t\tif (self._loadedFiles == self.files.length) {\n      next()\n    }\n\t\tself._loadedFiles++;\n  }\n\n\tcreateMap() {\n\n\t\tvar self = this;\n\n\t\t// init map\n\t\tswitch(self.config.variant) {\n\t\t\tcase \"amaps\":\n\t\t\t\tself.map = amaps.createMap(self.config);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tself.map = nlmaps.createMap(self.config);\n\t\t}\n\n\t\t// clustering\n\t\tif (self.config.clustering && self.config.clustering.isActive && L.markerClusterGroup) {\n\t\t\tlet iconCreateFunction = self.config.clustering.iconCreateFunction || ( self.config.variant == 'amaps' ? amapsCreateClusterIcon.bind(self) : self.createClusterIcon );\n\t\t\tif (iconCreateFunction && typeof iconCreateFunction == 'string') iconCreateFunction = eval(iconCreateFunction);\n\t\t\tself.markerClusterGroup = L.markerClusterGroup({iconCreateFunction, showCoverageOnHover: self.config.clustering.showCoverageOnHover, maxClusterRadius: self.config.clustering.maxClusterRadius || 80});\n\t\t  let onClusterClick = self.config.clustering.onClusterClick || self.onClusterClick;\n\t\t\tif (typeof onClusterClick == 'string') onClusterClick = eval(onClusterClick);\n\t\t\tself.markerClusterGroup.on('clusterclick', onClusterClick);\n\t\t  let onClusterAnimationEnd = self.config.clustering.onClusterAnimationEnd || self.onClusterAnimationEnd;\n\t\t\tif (typeof onClusterAnimationEnd == 'string') onClusterAnimationEnd = eval(onClusterAnimationEnd);\n\t\t\tself.markerClusterGroup.on('animationend', onClusterAnimationEnd);\n\t\t\tself.map.addLayer(self.markerClusterGroup);\n\t\t}\n\t\t\n\t\t// on map click\n\t\tif (self.config.onMapClick) {\n\t\t\tif (typeof self.config.onMapClick == 'string') self.config.onMapClick = eval(self.config.onMapClick);\n\t\t}\n\t\t// self.map.on('singleclick', self.config.onMapClick || self.onMapClick);\n\t\tself.map.on('click', self.config.onMapClick || self.onMapClick);\n\n\t\t// add polygon\n\t\tif (self.config.polygon) {\n\t\t\tself.createCutoutPolygon( self.config.polygon );\n\t\t}\n\n\t\t// add markers\n\t\tif (self.markers.length) {\n\t\t\tself.markers.forEach(function(marker) {\n\t\t\t\tself.addMarker( marker )\n\t\t\t})\n\t\t}\n\n\t  // set bounds and center\n\t  if (self.config.autoZoomAndCenter) {\n\t\t  var centerOn = ( self.config.autoZoomAndCenter == 'polygon' && self.config.polygon ) || ( self.markers && self.markers.length && self.markers );\n\t\t  if (self.editorMarker) {\n\t\t\t  if (self.editorMarker.position) {\n\t\t\t\t  centerOn = [self.editorMarker];\n\t\t\t  } else {\n\t\t\t\t  centerOn = self.config.polygon;\n\t\t\t  }\n\t\t  }\n\t\t  if (centerOn) {\n\t\t\t  self.setBoundsAndCenter( centerOn );\n\t\t  }\n\t  }\n\n\t}\n\n\taddMarkers(markerData) {\n\t\tvar self = this;\n    markerData.forEach((marker) => {\n      self.addMarker(marker)\n    });\n  }\n\n\taddMarker(markerData) {\n\n\t\tvar self = this;\n\n\t\tlet icon = markerData.icon;\n\t\tif (!icon) {\n\t\t\tlet iconCreateFunction = self.config.iconCreateFunction;\n\t\t\tif (iconCreateFunction && typeof iconCreateFunction == 'string') {\n\t\t\t\ticonCreateFunction = eval(iconCreateFunction);\n\t\t\t\ticon = iconCreateFunction();\n\t\t\t}\n\t\t}\n\n\t\tvar marker;\n\t\tif (icon) {\n\t\t\tmarker = L.marker([markerData.lat, markerData.lng], { icon });\n\t\t} else {\n\t\t\tmarker = L.marker([markerData.lat, markerData.lng]);\n\t\t}\n\n    marker.visible = true;\n\t\tmarker.data = markerData.data;\n\t\tmarker.doNotCluster = markerData.doNotCluster;\n\n\t\tif (markerData.href) {\n\t\t\tmarkerData.onClick = function() {\n\t\t\t\tdocument.location.href = markerData.href;\n\t\t\t}\n\t\t}\n\t\tlet onClick = (markerData.onClick != null && markerData.onClick) || self.config.onMarkerClick || self.onMarkerClick;\n\t\tif (onClick) {\n\t\t\tif (typeof onClick == 'string') onClick = eval(onClick);\n\t\t\t// marker.on('singleclick', onClick);\n\t\t\tmarker.on('click', onClick);\n\t\t}\n\n\t\tif (self.markerClusterGroup && !markerData.doNotCluster) {\n\t\t\tself.markerClusterGroup.addLayer(marker);\n\t\t} else {\n\t\t\tself.map.addLayer(marker);\n\t\t}\n\n\t\tself.markers.push(marker);\n\n\t\treturn marker;\n\n\t}\n\n\tremoveMarker(marker) {\n    if (!marker) return;\n    let index = this.markers.indexOf(marker);\n    if (index > -1) {\n      this.markers.splice(index, 1)\n\t\t  this.map.removeLayer(marker);\n\t\t\tthis.markerClusterGroup.removeLayer(marker);\n    }\n  }\n\n\tupdateMarker(marker, newData) {\n    if (newData.location) {\n      var newLatLng = new L.LatLng(newData.location.lat, newData.location.lng);\n      marker.setLatLng(newLatLng); \n    }\n  }\n\n\tcreateClusterIcon(cluster) {\n\t\tvar count = cluster.getChildCount();\n\t\treturn L.divIcon({ html: count, className: 'osc-nlmap-icon-cluster', iconSize: L.point(20, 20), iconAnchor: [20, 10] });\n\t}\n\n\tcreateCutoutPolygon(polygon) {\n\n    console.log(polygon.length);\n\t\tvar self = this;\n\n\t\t// polygon must defined from the south west corner to work with the outer box\n\t\tvar bounds = L.polygon(polygon).getBounds();\n\t\tvar center = bounds.getCenter();\n\n\t\tvar smallest = 0; var index = 0;\n\n\t\tpolygon.forEach(function( point, i ) {\n\t\t\tvar y = Math.sin(point.lng-center.lng) * Math.cos(point.lat);\n\t\t\tvar x = Math.cos(center.lat)*Math.sin(point.lat) - Math.sin(center.lat)*Math.cos(point.lat)*Math.cos(point.lng-center.lng);\n\t\t\tvar bearing = Math.atan2(y, x) * 180 / Math.PI;\n\t\t\tif (45 - bearing < smallest) {\n\t\t\t\tsmallest = 45 - bearing;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t});\n\n\t\tvar a = polygon.slice(0, index);\n\t\tvar b = polygon.slice(index, polygon.length);\n\t\tpolygon = b.concat(a);\n\n\t\t// outer box\n\t\t// TODO: should be calculated dynamically from the center point\n\t\tvar delta1 = 0.01;\n\t\tvar delta2 = 5;\n\t\tvar outerBox = [\n\t\t\t{lat: -90 + delta2, lng:  -180 + delta1 },\n\t\t\t{lat: -90 + delta2, lng:     0          },\n\t\t\t{lat: -90 + delta2, lng:   180 - delta1 },\n\t\t\t{lat:   0,          lng:   180 - delta1 },\n\t\t\t{lat:  90 - delta2, lng:   180 - delta1 },\n\t\t\t{lat:  90 - delta2, lng:     0          },\n\t\t\t{lat:  90 - delta2, lng:  -180 + delta1 },\n\t\t\t{lat:  90 - delta2, lng:  -180 + delta1 },\n\t\t\t{lat:   0,          lng:  -180 + delta1 },\n\t\t];\n\n\t\t// polygon style\n\t\tlet polygonStyle = Object.assign({\n\t\t\t\"color\": \"#d00\",\n\t\t\t\"fillColor\": \"#000\",\n\t\t\t\"fillOpacity\": 0.15\n\t\t}, self.config.polygonStyle);\n\n\t\tlet result = L.polygon([outerBox, polygon], polygonStyle);\n    self.map.addLayer(result);\n\n    return result;\n\n\t}\n\n  removePolygon(polygon) {\n\t  var self = this;\n    if (polygon) {\n      self.map.removeLayer(polygon);\n    }\n  }\n\n  setBoundsAndCenter( points ) {\n\n\t  var self = this;\n\t  points = points || [];\n\n\t  var poly = [];\n\t  points.forEach(function(point) {\n\t\t  if (point._latlng) {\n\t\t\t  point = point._latlng;\n\t\t  } else if (point.position) {\n\t\t\t  point = point.position.coordinates ? { lat: point.position.coordinates[0], lng: point.position.coordinates[1] }  : point.position;\n\t\t  }\n\t\t  poly.push(point);\n\t  })\n\n    if (poly.length == 1) {\n      self.map.panTo(new L.LatLng(poly[0].lat, poly[0].lng));\n    } else {\n\t    var bounds = L.latLngBounds(poly);\n\t    self.map.fitBounds(bounds);\n    }\n\n\t  // var zoom = parseInt(self.map.getZoom())\n\t  // self.map.setZoom(zoom - 1)\n\n  }\n\n  showMarkers(markers) {\n\t  var self = this;\n    markers.forEach((marker) => {\n      self.showMarker(marker);\n    });\n  }\n  \n  showMarker(marker) {\n\t  var self = this;\n    marker.visible = true;\n\t  if (self.markerClusterGroup && !marker.doNotCluster) {\n\t\t  self.markerClusterGroup.addLayer(marker);\n\t  } else {\n\t\t  marker.addTo(self.map)\n\t  }\n  }\n\n  hideMarkers(markers) {\n\t  var self = this;\n    markers.forEach((marker) => {\n      self.hideMarker(marker);\n    });\n  }\n  \n  hideMarker(marker) {\n\t  var self = this;\n    marker.visible = false;\n\t  if (self.markerClusterGroup && !marker.doNotCluster) {\n\t\t  self.markerClusterGroup.removeLayer(marker);\n\t  } else {\n\t\t  marker.remove(self.map)\n\t  }\n  }\n\n  setFilter(filterFuntion) {\n\t  var self = this;\n\t  self.filterFunction = filterFuntion;\n\t  self.applyFilter();\n  }\n\n  applyFilter() {\n\t  var self = this;\n\t  if (self.filterFunction) {\n\t\t  self.markers.forEach(function(marker) {\n\t\t\t  if ( self.filterFunction(marker) ) {\n\t\t\t\t  self.showMarker(marker);\n\t\t\t  } else {\n\t\t\t\t  self.hideMarker(marker);\n\t\t\t  }\n\t\t  });\n\t  } else {\n\t\t  self.markers.forEach(function(marker) {\n\t\t\t  self.showMarker(marker);\n\t\t  });\n\t  }\n  }\n\n  isPointInPolygon(point, polygon) {\n\n\t  // taken from http://pietschsoft.com/post/2008/07/02/Virtual-Earth-Polygon-Search-Is-Point-Within-Polygon\n\n    var i;\n    var j = polygon.length - 1;\n\t  \n    var inPoly=false;\n\n\t  var lat = point.lat;\n    var lng = point.lng;\n\n    for (i=0; i<polygon.length; i++) {\n\n      if ( polygon[i].lng < lng && polygon[j].lng >= lng || polygon[j].lng < lng && polygon[i].lng >= lng) {\n        if ( polygon[i].lat + ( lng - polygon[i].lng ) / ( polygon[j].lng - polygon[i].lng ) * ( polygon[j].lat -  polygon[i].lat ) < lat) {\n          inPoly=!inPoly; \n        }\n      }\n      j=i; \n    }\n    return inPoly; \n\n  }\n\n  getPointInfo(latlng, marker, next) {\n\n    // TODO: configurabel\n    var bagApiUrl1 = 'https://api.data.amsterdam.nl/bag/nummeraanduiding/?format=json&locatie=[[lat]],[[lng]],50';\n    var bagApiUrl2 = 'https://api.data.amsterdam.nl/bag/nummeraanduiding/[[id]]/?format=json';\n\n\t  var self = this;\n\n\t  latlng = latlng || {};\n\n\t  var url = bagApiUrl1\n\t\t\t  .replace(/\\[\\[lat\\]\\]/, latlng.lat)\n\t\t\t  .replace(/\\[\\[lng\\]\\]/, latlng.lng);\n\n\n\t  fetch(url)\n      .then((response) => {\n        return response.json();\n      })\n      .then( json => {\n\t\t\t  var id = json && json.results && json.results[0] && json.results[0].landelijk_id;\n\t\t\t  var url = bagApiUrl2\n\t\t\t\t\t  .replace(/\\[\\[id\\]\\]/, id)\n\t      fetch(url)\n          .then((response) => {\n            return response.json();\n          })\n          .then( json => {\n\t\t\t\t\t  json.lat = latlng.lat;\n\t\t\t\t\t  json.lng = latlng.lng;\n\t\t\t\t\t  if (next) next(json, marker);\n          })\n      })\n      .catch((err) => {\n        console.log('Zoek adres: niet goed');\n        console.log(err);\n\t\t\t  if (next) next({}, marker);\n      });\n\n  }\n\n\tonMapClick() {\n    // placeholder\n  }\n\n\tonMarkerClick() {\n    // placeholder\n  }\n\n\tonClusterClick() {\n    // placeholder\n  }\n\n\tonClusterAnimationEnd() {\n    // placeholder\n  }\n\n\trender() {\n\n    return (\n\t\t\t<div id={this.divId} className={this.props.className || 'osc-nlmap'} ref={el => (this.instance = el)}>\n\t\t\t\t<div id={this.divId + '-map'}></div>\n\t\t\t</div>\n    );\n\n  }\n\n}\n","import React from 'react';\n\n'use strict';\n\nexport default class OpenStadComponent extends React.Component {\n\n  constructor(props) {\n\n    super(props);\n\n    let self = this;\n\n    if (props.attributes) {\n      Object.keys(props.attributes).forEach((key) => {\n        let attribute = props.attributes[key];\n        self[attribute.name] = attribute.value;\n      });\n    }\n\n    self.config = self.config || props.config;\n\n    if (self.config) {\n      try {\n        self.config = JSON.parse(self.config);\n      } catch (err) {}\n    }\n\n    self.divId = self.divId || ( self.config && self.config.divId ) || props.id || `openstad-component-${  parseInt( 100000000 * Math.random() )}`;\n    \n    window[self.divId] = this;\n\n  }\n\n  componentDidMount(prevProps, prevState) {\n    // let event = new Event('isReady');\n    // self.isReady = true;\n    // self.instance.dispatchEvent(event);\n  }\n\n}\n","export default function amapsCreateClusterIcon(cluster) {\n\n  let self = this;\n  let count = cluster.getChildCount();\n\n  if (self.config.typeField && self.config.types && self.config.types.length) {\n    \n    // todo: configurable\n    let count = cluster.getChildCount();\n    let markers = cluster.getAllChildMarkers();\n\n    let colors = {}\n    let total = markers.length;\n    let isFaded = false;\n    markers.forEach((entry) => {\n      let type = entry.data && eval(`entry.data.${self.config.typeField}`);\n      let tmp = self.config.types.find(entry => entry.name == type);\n      let color = tmp && tmp.color || 'black';\n      if ( type == undefined ) type = 'undef'\n      if ( !colors[color] ) colors[color] = 0;\n      colors[color]++;\n      if (entry.data && entry.data.isFaded) isFaded = true;\n    });\n\n    let html = '<svg viewBox=\"0 0 36 36\"><circle cx=\"18\" cy=\"18\" r=\"14\" fill=\"white\"/>'\n\n    let soFar = 0;\n    Object.keys(colors).forEach((key) => {\n      let myColor = key;\n      let perc = 100 * colors[key] / total;\n      let angle = (soFar / 100) * 360;\n      \n      html += `  <path\n             d=\"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\n             fill=\"none\"\n             transform=\"rotate(${angle}, 18, 18)\"\n             stroke=\"${myColor}\"\n             stroke-width=\"4\"\n             stroke-dasharray=\"${perc}, 100\"\n             />`;\n      soFar = soFar + perc;\n    });\n\n    html += '<text x=\"18\" y=\"21\" text-anchor=\"middle\" class=\"openstad-component-ideas-on-map-icon openstad-component-ideas-on-map-icon-text\">' + count + '</text></svg>';\n\n    return L.divIcon({ html: html, className: 'openstad-component-ideas-on-map-icon-cluster', iconSize: L.point(36, 36), iconAnchor: [18, 18], isFaded });\n\n  } else {\n\n\t\treturn L.divIcon({ html: count, className: 'openstad-component-ideas-on-map-icon-cluster', iconSize: L.point(20, 20), iconAnchor: [20, 10] });\n\n\t}\n\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport \"./css/default.less\";\n\nimport OpenStadComponentNLMap from './component/map.jsx';\nexport {OpenStadComponentNLMap}\n\nwindow.addEventListener(\"load\", function() {\n\tlet elements = document.querySelectorAll('.openstad-component-nlmap');\n\telements.forEach((elem) => {\n    let attributes = elem.attributes;\n\t\tReactDOM.render( <OpenStadComponentNLMap attributes={attributes}/>, elem)\n\t})\n})\n"],"sourceRoot":""}